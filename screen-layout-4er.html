<!doctype html>
<html lang="en">

<head>
    <title>Tesla Screen Demo</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="styles/generated/screen.css">

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700" rel="stylesheet">
</head>



<body>
    <main class="screen" id="screen">

        <section class="screen__top-area">
            <div class="top-area__upper-content">
                <div id="sidebar" class="upper-content__left" data-trigger="fullscreenTarget">
                    <img src="images/tsl/tsl-sidebar-tr.svg" alt="sidebar" id="tsl-sidebar">
                </div>

                <div class="upper-content__right" data-trigger="fullscreen" data-content-upper>
                    <div id="findhotels">
                        Find hotels in:
                      </div>
                  
                      <div id="locationField">
                        <input id="autocomplete" placeholder="Enter a city" type="text" />
                      </div>
                  
                      <div id="controls">
                        <select id="country">
                          <option value="all">All</option>
                          <option value="au">Australia</option>
                          <option value="br">Brazil</option>
                          <option value="ca">Canada</option>
                          <option value="fr">France</option>
                          <option value="de"selected>Germany</option>
                          <option value="mx">Mexico</option>
                          <option value="nz">New Zealand</option>
                          <option value="it">Italy</option>
                          <option value="za">South Africa</option>
                          <option value="es">Spain</option>
                          <option value="pt">Portugal</option>
                          <option value="us" >U.S.A.</option>
                          <option value="uk">United Kingdom</option>
                        </select>
                      </div>
                  
                      <div id="map"></div>
                  
                      <div id="listing">
                        <table id="resultsTable">
                          <tbody id="results"></tbody>
                        </table>
                      </div>
                  
                      <div style="display: none">
                        <div id="info-content">
                          <table>
                            <tr id="iw-url-row" class="iw_table_row">
                              <td id="iw-icon" class="iw_table_icon"></td>
                              <td id="iw-url"></td>
                            </tr>
                            <tr id="iw-address-row" class="iw_table_row">
                              <td class="iw_attribute_name">Address:</td>
                              <td id="iw-address"></td>
                            </tr>
                            <tr id="iw-phone-row" class="iw_table_row">
                              <td class="iw_attribute_name">Telephone:</td>
                              <td id="iw-phone"></td>
                            </tr>
                            <tr id="iw-rating-row" class="iw_table_row">
                              <td class="iw_attribute_name">Rating:</td>
                              <td id="iw-rating"></td>
                            </tr>
                            <tr id="iw-website-row" class="iw_table_row">
                              <td class="iw_attribute_name">Website:</td>
                              <td id="iw-website"></td>
                            </tr>
                          </table>
                        </div>
                      </div>
                  
                      <script>
                         <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJSFCIwRaZf8thXV9bkUT9iNykRp-jswM&libraries=places">
                  
                        var map, places, infoWindow;
                        var markers = [];
                        var autocomplete;
                        var countryRestrict = {'country': 'de'};
                        var MARKER_PATH = 'https://developers.google.com/maps/documentation/javascript/images/marker_green';
                        var hostnameRegexp = new RegExp('^https?://.+?/');
                  
                        var countries = {
                          'de': {
                            center: {lat: 51.2, lng: 10.4},
                            zoom: 5
                          },
                          'us': {
                            center: {lat: 37.1, lng: -95.7},
                            zoom: 3
                          }
                        };
                  
                        function initMap() {
                          map = new google.maps.Map(document.getElementById('map'), {
                            zoom: countries['de'].zoom,
                            center: countries['de'].center,
                            mapTypeControl: false,
                            panControl: false,
                            zoomControl: false,
                            streetViewControl: false
                          });
                  
                          infoWindow = new google.maps.InfoWindow({
                            content: document.getElementById('info-content')
                          });
                  
                          // Create the autocomplete object and associate it with the UI input control.
                          // Restrict the search to the default country, and to place type "cities".
                          autocomplete = new google.maps.places.Autocomplete(
                              /** @type {!HTMLInputElement} */ (
                                  document.getElementById('autocomplete')), {
                                types: ['(cities)'],
                                componentRestrictions: countryRestrict
                              });
                          places = new google.maps.places.PlacesService(map);
                  
                          autocomplete.addListener('place_changed', onPlaceChanged);
                  
                          // Add a DOM event listener to react when the user selects a country.
                          document.getElementById('country').addEventListener(
                              'change', setAutocompleteCountry);
                        }
                  
                        // When the user selects a city, get the place details for the city and
                        // zoom the map in on the city.
                        function onPlaceChanged() {
                          var place = autocomplete.getPlace();
                          if (place.geometry) {
                            map.panTo(place.geometry.location);
                            map.setZoom(15);
                            search();
                          } else {
                            document.getElementById('autocomplete').placeholder = 'Enter a city';
                          }
                        }
                  
                        // Search for hotels in the selected city, within the viewport of the map.
                        function search() {
                          var search = {
                            bounds: map.getBounds(),
                            types: ['lodging']
                          };
                  
                          places.nearbySearch(search, function(results, status) {
                            if (status === google.maps.places.PlacesServiceStatus.OK) {
                              clearResults();
                              clearMarkers();
                              // Create a marker for each hotel found, and
                              // assign a letter of the alphabetic to each marker icon.
                              for (var i = 0; i < results.length; i++) {
                                var markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));
                                var markerIcon = MARKER_PATH + markerLetter + '.png';
                                // Use marker animation to drop the icons incrementally on the map.
                                markers[i] = new google.maps.Marker({
                                  position: results[i].geometry.location,
                                  animation: google.maps.Animation.DROP,
                                  icon: markerIcon
                                });
                                // If the user clicks a hotel marker, show the details of that hotel
                                // in an info window.
                                markers[i].placeResult = results[i];
                                google.maps.event.addListener(markers[i], 'click', showInfoWindow);
                                setTimeout(dropMarker(i), i * 100);
                                addResult(results[i], i);
                              }
                            }
                          });
                        }
                  
                        function clearMarkers() {
                          for (var i = 0; i < markers.length; i++) {
                            if (markers[i]) {
                              markers[i].setMap(null);
                            }
                          }
                          markers = [];
                        }
                  
                        // Set the country restriction based on user input.
                        // Also center and zoom the map on the given country.
                        function setAutocompleteCountry() {
                          var country = document.getElementById('country').value;
                          if (country == 'all') {
                            autocomplete.setComponentRestrictions([]);
                            map.setCenter({lat: 15, lng: 0});
                            map.setZoom(2);
                          } else {
                            autocomplete.setComponentRestrictions({'country': country});
                            map.setCenter(countries[country].center);
                            map.setZoom(countries[country].zoom);
                          }
                          clearResults();
                          clearMarkers();
                        }
                  
                        function dropMarker(i) {
                          return function() {
                            markers[i].setMap(map);
                          };
                        }
                  
                        function addResult(result, i) {
                          var results = document.getElementById('results');
                          var markerLetter = String.fromCharCode('A'.charCodeAt(0) + (i % 26));
                          var markerIcon = MARKER_PATH + markerLetter + '.png';
                  
                          var tr = document.createElement('tr');
                          tr.style.backgroundColor = (i % 2 === 0 ? '#F0F0F0' : '#FFFFFF');
                          tr.onclick = function() {
                            google.maps.event.trigger(markers[i], 'click');
                          };
                  
                          var iconTd = document.createElement('td');
                          var nameTd = document.createElement('td');
                          var icon = document.createElement('img');
                          icon.src = markerIcon;
                          icon.setAttribute('class', 'placeIcon');
                          icon.setAttribute('className', 'placeIcon');
                          var name = document.createTextNode(result.name);
                          iconTd.appendChild(icon);
                          nameTd.appendChild(name);
                          tr.appendChild(iconTd);
                          tr.appendChild(nameTd);
                          results.appendChild(tr);
                        }
                  
                        function clearResults() {
                          var results = document.getElementById('results');
                          while (results.childNodes[0]) {
                            results.removeChild(results.childNodes[0]);
                          }
                        }
                  
                        // Get the place details for a hotel. Show the information in an info window,
                        // anchored on the marker for the hotel that the user selected.
                        function showInfoWindow() {
                          var marker = this;
                          places.getDetails({placeId: marker.placeResult.place_id},
                              function(place, status) {
                                if (status !== google.maps.places.PlacesServiceStatus.OK) {
                                  return;
                                }
                                infoWindow.open(map, marker);
                                buildIWContent(place);
                              });
                        }
                  
                        // Load the place information into the HTML elements used by the info window.
                        function buildIWContent(place) {
                          document.getElementById('iw-icon').innerHTML = '<img class="hotelIcon" ' +
                              'src="' + place.icon + '"/>';
                          document.getElementById('iw-url').innerHTML = '<b><a href="' + place.url +
                              '">' + place.name + '</a></b>';
                          document.getElementById('iw-address').textContent = place.vicinity;
                  
                          if (place.formatted_phone_number) {
                            document.getElementById('iw-phone-row').style.display = '';
                            document.getElementById('iw-phone').textContent =
                                place.formatted_phone_number;
                          } else {
                            document.getElementById('iw-phone-row').style.display = 'none';
                          }
                  
                          // Assign a five-star rating to the hotel, using a black star ('&#10029;')
                          // to indicate the rating the hotel has earned, and a white star ('&#10025;')
                          // for the rating points not achieved.
                          if (place.rating) {
                            var ratingHtml = '';
                            for (var i = 0; i < 5; i++) {
                              if (place.rating < (i + 0.5)) {
                                ratingHtml += '&#10025;';
                              } else {
                                ratingHtml += '&#10029;';
                              }
                            document.getElementById('iw-rating-row').style.display = '';
                            document.getElementById('iw-rating').innerHTML = ratingHtml;
                            }
                          } else {
                            document.getElementById('iw-rating-row').style.display = 'none';
                          }
                  
                          // The regexp isolates the first part of the URL (domain plus subdomain)
                          // to give a short URL for displaying in the info window.
                          if (place.website) {
                            var fullUrl = place.website;
                            var website = hostnameRegexp.exec(place.website);
                            if (website === null) {
                              website = 'http://' + place.website + '/';
                              fullUrl = website;
                            }
                            document.getElementById('iw-website-row').style.display = '';
                            document.getElementById('iw-website').textContent = website;
                          } else {
                            document.getElementById('iw-website-row').style.display = 'none';
                          }
                        }
                      </script>
                      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJSFCIwRaZf8thXV9bkUT9iNykRp-jswM&libraries=places&callback=initMap"
                          async defer></script>

                </div>
            </div>
                <ul class="top-area__main-control">
                  <li class="main-control__switch main-control__switch--model3"><img src="images/main-control-bar/model3-icon.svg" alt="switch model 3"></li>
                  <li class="main-control__switch main-control__switch--defrost"><img src="images/main-control-bar/defrost-icon.svg" alt="switch defrost"></li>
                  <li class="main-control__switch main-control__switch--heater"><img src="images/main-control-bar/heater-icon.svg" alt="switch heater"></li>
                  <li class="main-control__switch main-control__switch--seat"><img src="images/main-control-bar/seat-left-icon.svg" alt="switch seat left"></li>
                  <li class="main-control__switch main-control__switch--temp-left"><img src="images/main-control-bar/temp-icon.svg" alt="switch templ left"></li>
                  <li class="main-control__switch main-control__switch--fan"><img src="images/main-control-bar/fan-level-icon.svg" alt="switch fan control"></li>
                  <li class="main-control__switch main-control__switch--temp-right"><img src="images/main-control-bar/temp-icon.svg" alt="switch tempreature"></li>
                  <li class="main-control__switch main-control__switch--seat"><img src="images/main-control-bar/seat-right-icon.svg" alt="switch seat right"></li>
                  <li class="main-control__switch main-control__switch--music" data-control-music><img src="images/main-control-bar/music-icon.svg" alt="switch music"></li>
                  <li class="main-control__switch main-control__switch--phone"><img src="images/main-control-bar/phone-icon.svg" alt="switch phone"></li>
                  <li class="main-control__switch main-control__switch--volume"><img src="images/main-control-bar/volume-icon.svg" alt="switch volume"></li>
                </ul>
        </section>

        <div id="sectionBottom" class="screen__bottom-area">

            <!-- Section 1: oben links
				##########################################################################-->
            <section id="section1" class="bottom-area__item">
                <div class="screen__content" draggable="true"  data-screen-content>
                    <!-- Put your Content here ###########################################-->

                    <h4>Super Content Area 1</h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris</p>
                    <button class="btn">Start Tour</button>

                    <!-- End of content box 4 ############################################-->
                </div>
            </section>

            <!-- Section 2: oben rechts
				##########################################################################-->
            <section id="section2" class="bottom-area__item">
                <div class="screen__content is-scrollable" draggable="true"  data-screen-content>
                    <!-- Put your Content here ###########################################-->

                    <div class="card">
                        <img class="card-img-top" src="https://static.pexels.com/photos/675764/pexels-photo-675764.jpeg" alt="Card image cap">
                        <div class="card-body">
                            <h4 class="card-title">Card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a href="#" class="btn btn-primary">Go somewhere</a>
                        </div>
                    </div>

                    <!-- End of content box 4 ############################################-->
                </div>
            </section>

            <!-- Section 3: unten links
				##########################################################################-->
            <section id="section3" class="bottom-area__item">
                <div class="screen__content" draggable="true" data-screen-content>
                    <!-- Put your Content here ###########################################-->

                    <img src="images/tsl/tsl-about.svg" alt="About this car">

                    <!-- End of content box 3 ############################################-->
                </div>
            </section>

            <!-- Section 4: unten rechts
				##########################################################################-->
            <section id="section4" class="bottom-area__item">
                <div class="screen__content is-scrollable" draggable="true" data-screen-content>
                    <!-- Put your Content here ###########################################-->

                    <h4>Super Content Area 4</h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris</p>
                    <button class="btn">Start engine</button>

                    <!-- End of content box 4 ############################################-->
                </div>
            </section>

        </div>
    </main>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

    <!-- Drag & Drop zwischen den Screens -->
    <script src="scripts/tesla-dnd.js"></script>

    <!-- Volle Breite für die Karte -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/zingtouch/1.0.5/zingtouch.min.js"></script>
    <script src="scripts/tesla-fs-map.js"></script>

    <!-- Verschiedene Layouts via Query String -->
    <script src="scripts/tesla-layout-switch.js"></script>

    <!-- Verschiedene Layouts via Query String -->
    <script src="scripts/tesla-main-control.js"#></script>

    <script src="scripts/TEST_MAP.js"></script>



</body>
